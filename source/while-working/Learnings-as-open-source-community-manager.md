# As community manager

My learnings"

### About documentation :

There could be three kinds of documentation:
1) Introduction and marketing material
2) Installation guides
3) Configuration guides ( like how to use various configuration option, enable disable features, setup basic usecases )
4) Technical documentation (this is technical documentation of code, modules and architecture)
5) developer documentation (How to setup workspace, run tests, remote debug,Contribution process, guidelines etc)

All of above documentation can also be assisted with video tutorials, FAQs etc



### Reference material

#### books
- https://www.amazon.com/Art-Community-Building-New-Participation-ebook-dp-B008224FMC/dp/B008224FMC/ref=mt_other?_encoding=UTF8&me=&qid= 


#### videos 

- https://www.youtube.com/watch?v=nGKSnMdBFsk https://www.youtube.com/watch?v=Js0gW8pAnh4
- quick and informative : https://www.youtube.com/watch?v=b1pyh2XCyrg

#### Live examples:

On community chat platform (gitter/slack) :
as understood from what 'Pop' user is doing on Falco slack channel.
- welcome new users
- setup community calls ( ones a week ). and send reminders.
- setup and conduct surveys
- respond to tech queries if possible.
- encourage people to appreciate others like this :
https://kubernetes.slack.com/archives/CMWH3EH32/p1617024285139200


Large open-source projects that are actively managed and can be looked at as reference:
[spring](https://github.com/spring-projects)
[kubernetes](https://github.com/kubernetes/kubernetes)
[falco](https://github.com/falcosecurity/falco)

#### Articles and sites:
- https://opensource.guide/best-practices/
- https://18f.github.io/open-source-program/pages/maintainer_guidelines/




### Regular house holding checks :

- stale branches across repos
- (for sometime)Track PR merges and see if they had met quality criteria and let code owner and developer know
- issue triage
- are all the automation successfully running? For example, github actions can fail silently. You have to periodically check their logs to ensure that there are no errors. For instance, one of my github action script was referring to a module in the build command. Later this module was removed from the project and github action script started failing, but nobody knew until a person spotted it. Note: I found out that I was not paying attention to my emails. Github sends email with subject similar to `[JanssenProject/jans-auth-server] Run failed: Code quality check - feature-flags-using-ff4j (276ae10)` in case there is a failure in the action run .
- check automated non-dependabot PRs to be merged on Non-CN repos
- check github notifications 
- PR backlog across all repos and aging PRs
  - backlog should not cross certain number of open PR threshold and aging of PRs shouldn't be more than certain days.


### Experience

#### Rolling out branch protections

I recently rolled out branch protections on all the Jans repos. Here I am noting how did we do it, what were the issues and hiccups faced.

##### preconditions:
- CODEOWNERs should be in place
  - though it is not a requirement from github, having two or more code owner for each repo will let people know who is going to shephard that repo. Who is going to be the go to person for that repo. When you turn on protections like `Require PR review before merge` then people would want to know who should they reach out to for review. If your code owner is set then github automatically suggests codeowner as reviewer. Ideally though, reviewer can be anyone from the team who is well aware of the code. Codeowner is usually a person who is responsible for that repo and generally the senior most developer but he/she can't be a reviewer everywhere. 

##### How to roll out:
- we rolled out below mentioned protections
  - for master
  - for all other

- how we should have done it:
  - signed commits and deletion of protected branches first.
  - enabling and mendating a check where github action builds code in the PR
  - Requiring PRs to be reviewed and approved before merge

##### problems faced
- Branches that were created before we enabled protections had unsigned commits.
- Some of the master builds were broken since before we enabled protections (jans-orm had failed testcases, jans-client-api code was not up-to-date with corresponding changes in the jans-auth-client)
- problem with code owner not able to merge without approval from someone else ( may be another code owner)

### Useful github automation:

- If you have PRs that get auto generated by bots and then it is a routine task to just merge those PRs then, to automate that routine task, enabling auto merge for repositories and PRs will help. First you'll have to [enable auto merge for repo](https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-auto-merge-for-pull-requests-in-your-repository) and then configure bot to raise PRs with [automerge enabled](https://docs.github.com/en/github/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/automatically-merging-a-pull-request).
- 


### Performance parameters for OSS project:
These are metrics and parameters developed by Linux foundation:
- [CII best practice badge](https://bestpractices.coreinfrastructure.org/en): To ensure that project is following OSS best practices. For health and stregth of engineering process in an OSS project.
- [CHAOSS](https://chaoss.community/) project: to define how healthy your community is. They also have tools that will give you analytics on top of your OSS repo data.


### issue triage
good article: https://medium.com/@clarkbw/github-issue-triage-and-transparency-be35acd8e85d

issue triaging needs correct set of labels in place: Look at this for reference. https://github.com/falcosecurity/falco/labels?page=1&sort=name-asc



